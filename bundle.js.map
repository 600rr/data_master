{"version":3,"sources":["internalization.js","logic.js","objects.js","structure.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["var translations = {\n\t// English\n\t\"en-US\": {\n\t\tlocaleName: \"en-US\",\n\t\theaderTitle: \"Data master\",\n\t\tresetFilters: \"Reset filters\",\n\t\tchangeLocale: \"Change language:\",\n\t\tloadData: \"Load data\",\n\t\taddRow: \"Add row\",\n\t\tclearSelection: \"Clear selection\",\n\t\tdeleteRow: \"Delete row\",\n\t\tsaveData: \"Save data\",\n\t\ttitle: \"Title\",\n\t\tnoItemSelected: \"No item selected\",\n\t\tdataSaved: \"Data saved\",\n\t\treservedButton: \"Reserved botton\"\n\t},\n\n\t// Russian\n\t\"ru-RU\": {\n\t\tlocaleName: \"ru-RU\",\n\t\theaderTitle: \"Мастер данных\",\n\t\tresetFilters: \"Сбросить фильтры\",\n\t\tchangeLocale: \"Сменить язык:\",\n\t\tloadData: \"Загрузить данные\",\n\t\taddRow: \"Добавить ряд\",\n\t\tclearSelection: \"Снять выделение\",\n\t\tdeleteRow: \"Удалить ряд\",\n\t\tsaveData: \"Сохранить\",\n\t\ttitle: \"Название\",\n\t\tnoItemSelected: \"Нет выбранных рядов\",\n\t\tdataSaved: \"Данные сохранены\",\n\t\treservedButton: \"Зарезервировано...\"\n\t}\n};\n","var defaultLocale = \"en-US\";\n\n// object from translations.js\nvar localizator = translations[defaultLocale];\n\n/**\n * Get data from backend and fill datatable grid\n */\nfunction getData() {\n    $$(\"dataFromBackend\").clearAll();\n    $$(\"dataFromBackend\").load(\"http://localhost/data_master/data/data.php\");\n    //$$(\"dataFromBackend\").load(\"http://localhost:3000/data\");\n}\n\n/**\n * Add new row to datatable\n */\nfunction addRow() {\n    $$(\"dataFromBackend\").add(\n        {\n            title: \"-----\",\n            content: \"-----\",\n            place: \"-----\"\n            //date: \"-----\",\n            //priority: \"-----\"\n        }\n    );\n}\n\n/**\n * Reset selection in datatable grid\n */\nfunction clearSelection() {\n    $$(\"dataFromBackend\").unselectAll();\n}\n\n/**\n * Delete selected row\n */\nfunction deleteRow() {\n    if (!$$(\"dataFromBackend\").getSelectedId()) {\n        webix.alert(localizator.noItemSelected);\n        return;\n    }\n\n    //removes the selected item\n    $$(\"dataFromBackend\").remove($$(\"dataFromBackend\").getSelectedId());\n}\n\n/**\n * Save data to backend from datatable grid\n */\nfunction saveData() {\n    var grid = $$(\"dataFromBackend\");\n    var serializedData = grid.serialize();\n    webix.ajax().post(\"http://localhost/data_master/data/save.php\", {data: serializedData});\n    webix.alert(localizator.dataSaved);\n}\n\n/**\n * Reset filters settings\n */\nfunction resetFilters() {\n    $$(\"dataFromBackend\").getFilter(\"title\").value = null;\n    $$(\"dataFromBackend\").getFilter(\"content\").value = null;\n    $$(\"dataFromBackend\").getFilter(\"place\").value = null;\n    $$(\"dataFromBackend\").getFilter(\"date\").value = null;\n    $$(\"dataFromBackend\").getFilter(\"priority\").value = null;\n    \n    // reload grid\n    $$(\"dataFromBackend\").clearAll();\n    $$(\"dataFromBackend\").load(\"http://localhost/data_master/data/data.php\"); \n    //$$(\"dataFromBackend\").load(\"http://localhost:3000/data\"); \n}\n\n/**\n * Change translation to selected\n */\nfunction changeLocale(locale) {\n    localizator = translations[locale];\n    \n    $$(\"headerContainer\").define(\"template\", localizator.headerTitle);\n    $$(\"headerContainer\").refresh();\n\n    $$(\"resetFiltersContainer\").define(\"value\", localizator.resetFilters);\n    $$(\"resetFiltersContainer\").refresh();\n\n    $$(\"changeLocale\").define(\"label\", localizator.changeLocale);\n    $$(\"changeLocale\").refresh();\n\n    $$(\"loadData\").define(\"value\", localizator.loadData);\n    $$(\"loadData\").refresh();\n\n    $$(\"addRow\").define(\"value\", localizator.addRow);\n    $$(\"addRow\").refresh();\n\n    $$(\"clearSelection\").define(\"value\", localizator.clearSelection);\n    $$(\"clearSelection\").refresh();\n\n    $$(\"deleteRow\").define(\"value\", localizator.deleteRow);\n    $$(\"deleteRow\").refresh();\n\n    $$(\"saveData\").define(\"value\", localizator.saveData);\n    $$(\"saveData\").refresh();\n\n    $$(\"reservedButton\").define(\"value\", localizator.reservedButton);\n    $$(\"reservedButton\").refresh();\n\n    webix.i18n.setLocale(locale);\n}\n\n/**\n * Function for reserved button\n */\nfunction reservedButton() {\n    // your code...\n}\n","/**\r\n * Create object with type \"Button\"\r\n *\r\n * @constructor\r\n */\r\nfunction Button(id, value, type, width, onClickFunction) {\r\n\tthis.view = \"button\";\r\n\tthis.id = id;\r\n\tthis.value = value;\r\n\tthis.type = type;\r\n\tthis.width = width;\r\n\tthis.on = {\r\n\t\t\"onItemClick\": function(){ \r\n\t      onClickFunction();\r\n\t    }\r\n\t}\r\n}\r\n","/**\r\n * Create main layout\r\n */\r\nwebix.ui({\r\n\tview: \"layout\",\r\n\tid: \"page\",\r\n\trows:[\r\n\t\t{\r\n\t\t\tcols: [\r\n\t\t\t\t{\r\n\t\t\t\t\tview:\"icon\",\r\n\t\t\t\t\tid: \"headerIconContainer\",\r\n\t\t\t\t\ticon:\"calendar\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tview:\"template\",\r\n\t\t\t\t\tid: \"headerContainer\",\r\n\t\t\t\t\ttype:\"header\",\r\n\t\t\t\t\ttemplate:\"Data master\"\r\n\t\t\t    },\r\n\t\t\t    new Button(\"resetFiltersContainer\", \"Reset filters\", \"form\", 150, resetFilters),\r\n\t\t\t\t{\r\n\t\t\t\t\tid: \"divider\",\r\n\t\t\t\t\twidth: 20\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tview: \"combo\", \r\n\t\t\t\t    id: \"changeLocale\",\r\n\t\t\t\t    label: 'Change locale:',\r\n\t\t\t\t    labelWidth: 130,\r\n\t\t\t\t    width: 230,\r\n\t\t\t\t    align: \"right\",\r\n\t\t\t\t    value: \"en-US\",\r\n\t\t\t\t    options: [\r\n\t\t\t\t    \t\"ru-RU\",\r\n\t\t\t\t    \t\"en-US\"\r\n\t\t\t\t    ],\r\n\t\t\t\t    on: {\r\n\t\t\t\t        \"onChange\": function(newv, oldv) { \r\n\t\t\t\t          \tchangeLocale(newv);\r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t  {\r\n\t  \tview: \"datatable\",\r\n\t  \tid: \"dataFromBackend\",\r\n\t\tcolumns: [\r\n\t\t\t{\r\n\t\t\t\tid: \"title\",\r\n\t\t\t\theader: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"<b>Title</b>\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: \"textFilter\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\teditor: \"text\",\r\n\t\t\t\tfillspace: 2\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: \"content\",\r\n\t\t\t\theader: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"<b>Content</b>\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: \"textFilter\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\teditor: \"popup\",\r\n\t\t\t\tfillspace: 8\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: \"place\",\r\n\t\t\t\theader: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"<b>Place</b>\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: \"textFilter\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\teditor: \"text\",\r\n\t\t\t\tfillspace: 2\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: \"date\",\r\n\t\t\t\theader: [\r\n\t\t\t\t\t\"<b>Date</b>\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: \"dateFilter\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\teditor: \"date\",\r\n\t\t\t\tmap: \"(date)#date#\",\r\n\t\t\t\tformat: webix.Date.dateToStr(\"%d.%m.%Y\"),\r\n\t\t\t\tfillspace: 2\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: \"priority\",\r\n\t\t\t\theader: [\r\n\t\t\t\t\t\"<b>Priority</b>\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent: \"selectFilter\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\teditor: \"select\",\r\n\t\t\t\toptions: [1, 2, 3, 4, 5],\r\n\t\t\t\tfillspace: 1\r\n\t\t\t}\r\n\t\t],\r\n\t\teditable: true,\r\n\t\tselect: \"row\",\r\n\t\tmultiselect: true,\r\n\t    // initial data load\r\n\t    data: webix.ajax().post(\"http://localhost/electron_with_backend/data/data.php\")\r\n\t    //data: webix.ajax().get(\"http://localhost:3000/data\")\r\n\t  },\r\n\t  \t{\r\n\t  \t\tview: \"layout\",\r\n\t  \t\tid: \"buttonContainer\",\r\n\t  \t\theight: 50,\r\n\t  \t\tcols: [\r\n\t\t\t  \t// Webix ui.button structure example:\r\n\t\t\t  \t/*{\r\n\t\t\t\t  \tview: \"button\", \r\n\t\t\t\t    id: \"loadData\", \r\n\t\t\t\t    value: \"Load data\", \r\n\t\t\t\t    type: \"form\", \r\n\t\t\t\t    width: 150,\r\n\t\t\t\t    on: {\r\n\t\t\t\t\t    \"onItemClick\": function(id, e, trg){ \r\n\t\t\t\t\t      getData();\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t}\r\n\t\t\t\t},*/\r\n\t\t  \t\tnew Button(\"loadData\", \"Load data\", \"form\", 150, getData),\r\n\t\t  \t\tnew Button(\"addRow\", \"Add row\", \"form\", 150, addRow),\r\n\t\t  \t\tnew Button(\"clearSelection\", \"Clear selection\", \"form\", 150, clearSelection),\r\n\t\t  \t\tnew Button(\"deleteRow\", \"Delete row\", \"form\", 150, deleteRow),\r\n\t\t  \t\tnew Button(\"saveData\", \"Save data\", \"form\", 150, saveData),\r\n\t\t  \t\tnew Button(\"reservedButton\", \"Reserved button\", \"form\", 150, reservedButton),\r\n\t\t\t\t{}\r\n\t\t\t]\r\n\t  \t}\r\n\t]\r\n});\r\n\r\n$$(\"buttonContainer\").define(\"css\", \"buttonContainerClass\");\r\n$$(\"resetFiltersContainer\").define(\"css\", \"resetFiltersContainerClass\");\r\n$$(\"headerIconContainer\").define(\"css\", \"headerIconContainerClass\");\r\n$$(\"headerContainer\").define(\"css\", \"headerContainerClass\");\r\n$$(\"changeLocale\").define(\"css\", \"changeLocaleClass\");\r\n$$(\"divider\").define(\"css\", \"dividerClass\");\r\n"]}